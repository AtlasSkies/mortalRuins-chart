<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Character Ability Chart</title>

  <!-- html2canvas for screenshot export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>
<body>

  <div class="page-container">
    <header>
      <h1>Character Ability Chart</h1>
      <p class="subtitle">Ruins Archive Registry</p>
    </header>

    <main>

      <!-- LEFT PANEL -->
      <section class="form-section">

        <h2>Character Information</h2>

        <div class="form-grid">

          <label>
            <div class="field-row">
              <span class="field-title">Name</span>
              <input type="checkbox" id="redactName" class="redact-checkbox" title="Black out on dossier">
            </div>
            <input id="charName" type="text">
          </label>

          <label>
            <div class="field-row">
              <span class="field-title">Species</span>
              <input type="checkbox" id="redactSpecies" class="redact-checkbox" title="Black out on dossier">
            </div>
            <input id="charSpecies" type="text">
          </label>

          <label>
            <div class="field-row">
              <span class="field-title">Ability</span>
              <input type="checkbox" id="redactAbility" class="redact-checkbox" title="Black out on dossier">
            </div>
            <input id="charAbility" type="text">
          </label>

          <label>
            <div class="field-row">
              <span class="field-title">Patron God</span>
              <input type="checkbox" id="redactGod" class="redact-checkbox" title="Black out on dossier">
            </div>
            <select id="charGod">
              <option selected>Unknown</option>
              <option>Dead</option>
              <option>Echara</option>
              <option>Jericho</option>
              <option>Metrador</option>
              <option>Ormir</option>
              <option>Phosiris</option>
              <option>Remora</option>
              <option>Shakur</option>
              <option>Skylar</option>
              <option>The Ruins</option>
              <option>Willow</option>
              <option>Zane</option>
            </select>
          </label>

          <label>
            <div class="field-row">
              <span class="field-title">Danger Level</span>
              <input type="checkbox" id="redactDanger" class="redact-checkbox" title="Black out on dossier">
            </div>
            <select id="charDanger">
              <option>None</option>
              <option>Low</option>
              <option>Medium</option>
              <option>High</option>
              <option>Ultra</option>
            </select>
          </label>

          <label>
            <div class="field-row">
              <span class="field-title">Level Index</span>
              <input type="checkbox" id="redactLevel" class="redact-checkbox" title="Black out on dossier">
            </div>
            <input id="charLevel" type="text" readonly>
          </label>

        </div>

        <h2>Stats (1–10)</h2>

        <div class="form-grid stats-grid">
          <label>
            [Redacted]
            <input id="redacted" type="number" min="1" max="10" step="0.1" value="7.5">
          </label>
          <label>
            Energy
            <input id="statEnergy" type="number" min="1" max="10" step="0.1" value="7">
          </label>
          <label>
            Speed
            <input id="statSpeed" type="number" min="1" max="10" step="0.1" value="6">
          </label>
          <label>
            Support
            <input id="statSupport" type="number" min="1" max="10" step="0.1" value="5">
          </label>
          <label>
            Power
            <input id="statPower" type="number" min="1" max="10" step="0.1" value="8">
          </label>
          <label>
            Intelligence
            <input id="statIntelligence" type="number" min="1" max="10" step="0.1" value="9">
          </label>
          <label>
            Concentration
            <input id="statConcentration" type="number" min="1" max="10" step="0.1" value="7">
          </label>
          <label>
            Perception
            <input id="statPerception" type="number" min="1" max="10" step="0.1" value="6">
          </label>
        </div>

        <h2>Character Image</h2>

        <label class="file-label">
          Upload Image
          <input id="imageUpload" type="file" accept="image/*">
        </label>

        <img id="imagePreview" alt="Character Preview">

        <div class="button-row">
          <button id="viewChartBtn">View Character Chart</button>
        </div>

      </section>

      <!-- RIGHT PANEL -->
      <section class="chart-section">
        <h2>Chart Preview</h2>
        <canvas id="fullChartCanvas" width="450" height="450"></canvas>
      </section>

    </main>
  </div>

  <!-- POPUP -->
  <div id="chartModal" class="modal hidden">
    <div class="modal-content">

      <button id="closeModalBtn" class="close-btn">✕</button>

      <div class="gov-header">
        <div class="gov-title-main">Ruins Archive</div>
        <div class="gov-title-sub">File Type: <span id="fileTypeGod"></span> Dossier</div>
      </div>

      <div id="modalWrapper">

        <div class="modal-left">
          <div class="modal-parchment">
            <div class="modal-image-frame">
              <img id="modalImage" alt="Character Image">
            </div>
          </div>
        </div>

        <div class="modal-center">
          <div id="modalInfo" class="modal-info-block"></div>
        </div>

        <div class="modal-right">
          <div class="chart-frame">
            <div class="chart-frame-label">Ruins Power Wheel</div>
            <canvas id="modalChartCanvas" width="350" height="350"></canvas>
          </div>

          <button id="modalDownloadBtn" class="download-btn">
            Download Character Chart
          </button>
        </div>

      </div>
    </div>
  </div>

</body>
</html>
